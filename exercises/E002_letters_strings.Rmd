---
title: "Letters & Strings"
author: "Hubert Baechli"
date: "`r Sys.Date()`"
output: pdf_document
header-includes:
  - \usepackage{xcolor}
  - \usepackage{titlesec}
  - \titleformat{\subsubsection}[block]{\normalfont\normalsize\bfseries\color{green}}{}{0em}{}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, echo = FALSE}
GAP <- 1
Echo <- FALSE
```

# Programming exercise

Below are some exercises that should help you learn the most important basic built in functions and how to incorporate them into your own functions. This sheet focuses on letters and strings.

## 1. Hello world

Let's start with the obligatory 'Hello World'.

```{r}
greet <- function(){
  text <- "Hello world"
  return(text)
}
```

```{r}
greet()
```

## 2. Personal Greetings (easy)

Since the first example was very impersonal, now write a function that uses your name.

```{r}
pers_greet <- function(name){
  text <- paste(GAP, name, sep = GAP)
  return(text)
}
```

***It should output something with it.***

```{r, echo = Echo}
pers_greet <- function(name){
  text <- paste("Hello", name, sep = " ")
  return(text)
}
```

```{r}
pers_greet("Hubi")
```

## 3. Fancy Greetings (medium)

To make it a bit more exciting, the function should now output something different depending on the time of day.

*hint: cur_hour = as.numeric(format(Sys.time(), "%H"))) will set the default value to the current day hour. For testing you may overwrite this default.*

```{r}
fancy_greet <- function(name,
                        cur_hour = as.numeric(format(Sys.time(), "%H"))){
  GAP
  return(text)
}
```

***The function should say 'Good morning' until 12, and after that, say 'Good afternoon'.***

```{r, echo = Echo}
fancy_greet <- function(name,
                        cur_hour = as.numeric(format(Sys.time(), "%H"))){
  if (cur_hour < 12){
    text <- "Good morning"
  } else {
    text <- "Good afternoon"
  }
  text <- paste(text, name, sep = " ")
  return(text)
}
```

```{r}
fancy_greet("Hubi", cur_hour = 11)
fancy_greet("Hubi", cur_hour = 13)
fancy_greet("Hubi")
```

## 4. Very fancy Greetings (hard)

If the last exercise wasn't fancy enough, you can extend it as follows:

```{r, results ="hide", message=FALSE, warning=FALSE}
if (GAP){
  
  } else if (GAP) {
  
  } else {
    
  }
```

***May something like that ;-)***

```{r, echo = Echo}
very_fancy_greet <- function(name,
                        cur_hour = as.numeric(format(Sys.time(), "%H"))){
  if (cur_hour <= 12){
    text <- "Good morning"
  } else if (cur_hour <= 18) {
    text <- "Good afternoon"
  } else if (cur_hour <= 22) {
    text <- "Good evening"
  } else {
    text <- "Go to bed"
  }
  text <- paste(text, name, sep = " ")
  return(text)
}
```

```{r}
very_fancy_greet("Hubi", cur_hour = 23)
```

## 5. Reverse Strings (hard)

A very useful function that you might use at some point during data preparation is this:

```{r}
words <- strsplit("Hello World", split = " ")
```

The result is here a List of words

```{r}
words
words[[1]] # vector
```

You can also use this for a own function that reverses a string.

*hint: you may also use following built in functions from R*

```{r}
toupper("text")
rev(c(1, 2, 3))
```

\newpage

***Your function should do this***

```{r, echo = Echo}
rev_string <- function(text){
  text <- toupper(text)
  vec_text <- strsplit(text, "")[[1]]
  rev_vec <- rev(vec_text)
  new_text <- paste(rev_vec, collapse = "")
  return(new_text)
}

```

```{r}
rev_string("Hubi")
```

## 6. Palindrome (combined)

If you've mastered the last exercise, it's just a small step to write a function that checks if a word is a palindrome.

***Your function should give out TRUE if the word is a palindrome.***

*Hint: You can use your function "rev_string" inside the new function*

```{r, echo = Echo}
is_palindrome <- function(text){
  text <- toupper(text)
  rev_text <- rev_string(text)
  res <- (text == rev_text)
  return(res)
}
```

```{r}
is_palindrome("Hubi")
is_palindrome("Anna")
```
